$(function(){$.fn.extend({placeholder:function(b){if(!b){b={}}var f=b.fontSize?b.fontSize:16;var c=b.lineHeight?b.lineHeight:34;var e=b.llen?b.llen:30;var a=b.xlen?b.xlen:13;var d=false;var g=this;g.bind("input propertychange",function(){var j=$(this);var i=j.val();var k=parseInt(j.attr("data-num"));var h=i.length;if(i==""||typeof(i)==undefined){j.attr("clr",0);j.prev().show()}if(h>0&&j.attr("clr")==0&&d==true){j.prev().hide();j.attr("clr",1)}if(h>k&&j.attr("data-num")!=undefined){var l=i.substr(0,k);j.val(l)}if(j.attr("data-num")!=undefined&&k>=h){j.next().html("(剩"+(k-h)+"字)")}});g.each(function(l,r){var o=$(r);var n=o.val();var h=document.createElement("div");var p=o.width();var m=o.outerHeight();var q=o.attr("data-tip")==undefined?"(限"+o.attr("data-num")+"字)":o.attr("data-tip");o.parent().css({"position":"relative"});o.css({"position":"relative"});var i=o.position().left;$(h).css({"position":"absolute","left":(i+a)+"px","top":"0px","width":p+"px","height":m+"px","font-size":f+"px","line-height":c+"px","color":"#999999","pointer-events":"none","z-index":"1"}).html(q);if(n==""||typeof(n)==undefined){o.attr("clr",0);$(h).css({"display":"block"})}else{o.attr("clr",1);$(h).css({"display":"none"})}o.before(h);if(o.attr("data-num")!=undefined){var j=document.createElement("div");j.className="cDiv";$(j).css({"position":"absolute","left":(i+p-e)+"px","top":(m-16)+"px","width":"auto","height":"auto","color":"#999999","pointer-events":"none","font-size":"12px","z-index":"2"}).html("(剩"+(parseInt(o.attr("data-num"))-n.length)+"字)");o.after(j)}});g.focus(function(){d=true});g.resize(function(){g.each(function(i,h){var m=$(h);var l=m.position().left;var j=m.width();var n=m.outerHeight();m.prev().css({"left":(l+a)+"px"});m.next(".cDiv").css({"left":(l+j-e)+"px","top":(n-16)+"px"})})})}})});